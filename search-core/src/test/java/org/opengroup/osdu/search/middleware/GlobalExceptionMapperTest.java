// Copyright 2017-2019, Schlumberger
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
//      http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.

package org.opengroup.osdu.search.middleware;

import com.fasterxml.jackson.core.JsonParseException;
import com.fasterxml.jackson.core.JsonProcessingException;
import com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException;
import javassist.NotFoundException;
import org.apache.http.HttpStatus;
import org.junit.Test;
import org.junit.runner.RunWith;
import org.mockito.InjectMocks;
import org.mockito.Mock;
import org.opengroup.osdu.core.common.model.http.AppException;
import org.opengroup.osdu.core.common.logging.JaxRsDpsLog;
import org.mockito.junit.MockitoJUnitRunner;
import org.opengroup.osdu.search.config.SearchConfigurationProperties;
import org.springframework.http.ResponseEntity;
import org.springframework.security.access.AccessDeniedException;


import jakarta.validation.ValidationException;

import java.io.IOException;

import static org.junit.Assert.assertEquals;
import static org.junit.Assert.assertNull;
import static org.junit.Assert.assertTrue;
import static org.mockito.Mockito.verify;
import static org.mockito.Mockito.mock;
import static org.mockito.Mockito.when;

@RunWith(MockitoJUnitRunner.class)
public class GlobalExceptionMapperTest {

    @Mock
    private JaxRsDpsLog log;
    @Mock
    private SearchConfigurationProperties configurationProperties;
    @InjectMocks
    private GlobalExceptionMapper sut;

    @Test
    public void should_useValuesInAppExceptionInResponse_When_AppExceptionIsHandledByGlobalExceptionMapper() {

        AppException exception = new AppException(409, "any reason", "any message");

        ResponseEntity<Object> response = sut.handleAppException(exception);
        assertEquals(409, response.getStatusCodeValue());
        assertEquals(exception.getError(), response.getBody());
    }

    @Test
    public void should_use404ValueInResponse_When_NotFoundExceptionIsHandledByGlobalExceptionMapper() {

        NotFoundException exception = new NotFoundException("any message");

         	ResponseEntity<Object> response = sut.handleNotFoundException(exception);
         	assertEquals(404, response.getStatusCodeValue());
         	assertTrue(response.getBody().toString().contains("any message"));
    }

//    @Test
//    public void should_use405ValueInResponse_When_NotAllowedExceptionIsHandledByGlobalExceptionMapper() {
//
//        NotAllowedException exception = new NotAllowedException("any message");
//
//        Response response = sut.toResponse(exception);
//        assertEquals(405, response.getStatus());
//        assertEquals(MediaType.APPLICATION_JSON, response.getMediaType().toString());
//        assertNotNull(response.getEntity());
//    }

//    @Test
//    public void should_use415ValueInResponse_When_NotSupportedExceptionIsHandledByGlobalExceptionMapper() {
//
//        NotSupportedException exception = new NotSupportedException("any message");
//
//        Response response = sut.toResponse(exception);
//        assertEquals(415, response.getStatus());
//        assertEquals(MediaType.APPLICATION_JSON, response.getMediaType().toString());
//        assertNotNull(response.getEntity());
//    }

    @Test
    public void should_useGenericValuesInResponse_When_ExceptionIsHandledByGlobalExceptionMapper() {

        Exception exception = new Exception("any message");

        ResponseEntity<Object> response = sut.handleGeneralException(exception);
        assertEquals(500, response.getStatusCodeValue());
        assertEquals("AppError(code=500, reason=Server error., message=An unknown error has occurred., errors=null, debuggingInfo=null, originalException=java.lang.Exception: any message)", response.getBody().toString());
    }

    @Test
    public  void should_useBadRequestInResponse_When_JsonProcessingExceptionIsHandledByGlobalExceptionMapper() {
        JsonProcessingException exception = new JsonParseException(null, "any message");

        ResponseEntity<Object> response = sut.handleJsonProcessingException(exception);
        assertEquals(HttpStatus.SC_BAD_REQUEST, response.getStatusCodeValue());
    }

    @Test
    public  void should_useBadRequestInResponse_When_handleUnrecognizedPropertyExceptionIsHandledByGlobalExceptionMapper() {
        UnrecognizedPropertyException exception = mock(UnrecognizedPropertyException.class);

        ResponseEntity<Object> response = sut.handleUnrecognizedPropertyException(exception);
        assertEquals(HttpStatus.SC_BAD_REQUEST, response.getStatusCodeValue());
    }

    @Test
    public  void should_useBadRequestInResponse_When_handleValidationExceptionIsHandledByGlobalExceptionMapper() {
        ValidationException exception = new ValidationException();

        ResponseEntity<Object> response = sut.handleValidationException(exception);
        assertEquals(HttpStatus.SC_BAD_REQUEST, response.getStatusCodeValue());
    }

    @Test
    public  void should_useBadRequestInResponse_When_handleAccessDeniedExceptionIsHandledByGlobalExceptionMapper() {
        AccessDeniedException exception = new AccessDeniedException("Access is denied.");

        ResponseEntity<Object> response = sut.handleAccessDeniedException(exception);
        assertEquals(HttpStatus.SC_UNAUTHORIZED, response.getStatusCodeValue());
    }

    @Test
    public void should_returnNullResponse_when_BrokenPipeIOExceptionIsCaptured() {
        IOException ioException = new IOException("Broken pipe");

        ResponseEntity response = this.sut.handleIOException(ioException);

        assertNull(response);
    }

    @Test
    public void should_returnServiceUnavailable_when_IOExceptionIsCaptured() {
        IOException ioException = new IOException("Not broken yet");

        ResponseEntity response = this.sut.handleIOException(ioException);

        assertEquals(HttpStatus.SC_SERVICE_UNAVAILABLE, response.getStatusCodeValue());
    }

    @Test
    public void should_truncateMessage_when_hugeExceptionIsCaptureed() {
        String message = "\"Failed to parse query [id:(\\\"osdu:reference-data--UnitOfMeasure:kg%2Fdm4\\\",\\\"osdu:reference-data--UnitOfMeasure:mPa.s\\\",\\\"osdu:reference-data--UnitOfMeasure:Mgf\\\",\\\"osdu:reference-data--UnitOfMeasure:sack%5B94lbm%5D\\\",\\\"osdu:reference-data--UnitOfMeasure:tonf%5BUS%5D.mi%2Fbbl\\\",\\\"osdu:reference-data--UnitOfMeasure:m3%2F%28kPa.h%29\\\",\\\"osdu:reference-data--UnitOfMeasure:hL\\\",\\\"osdu:reference-data--UnitOfMeasure:kJ%2Fm3\\\",\\\"osdu:reference-data--UnitOfMeasure:mV%2Fft\\\",\\\"osdu:reference-data--UnitOfMeasure:bar%2Fm\\\",\\\"osdu:reference-data--UnitOfMeasure:gal%5BUS%5D%2Fsack%5B94lbm%5D\\\",\\\"osdu:reference-data--UnitOfMeasure:daN\\\",\\\"osdu:reference-data--UnitOfMeasure:1000%20m3%2Fh\\\",\\\"osdu:reference-data--UnitOfMeasure:lbf%2Fgal%5BUS%5D\\\",\\\"osdu:reference-data--UnitOfMeasure:gal%5BUS%5D%2Fton%5BUS%5D\\\",\\\"osdu:reference-data--UnitOfMeasure:lbf.s%2Fin2\\\",\\\"osdu:reference-data--UnitOfMeasure:W%2F%28m3.deltaK%29\\\",\\\"osdu:reference-data--UnitOfMeasure:kohm.m\\\",\\\"osdu:reference-data--UnitOfMeasure:cg\\\",\\\"osdu:reference-data--UnitOfMeasure:kg%2Fm2\\\",\\\"osdu:reference-data--UnitOfMeasure:uH%2Fm\\\",\\\"osdu:reference-data--UnitOfMeasure:m3%2Fs\\\",\\\"osdu:reference-data--UnitOfMeasure:L%2Fs2\\\",\\\"osdu:reference-data--UnitOfMeasure:in4\\\",\\\"osdu:reference-data--UnitOfMeasure:gal%5BUK%5D%2Fmin2\\\",\\\"osdu:reference-data--UnitOfMeasure:ft3%2Fkg\\\",\\\"osdu:reference-data--UnitOfMeasure:cal%5Bth%5D%2Fcm3\\\",\\\"osdu:reference-data--UnitOfMeasure:fP\\\",\\\"osdu:reference-data--UnitOfMeasure:ozm%5Btroy%5D\\\",\\\"osdu:reference-data--UnitOfMeasure:mmHg%5B0degC%5D\\\",\\\"osdu:reference-data--UnitOfMeasure:kcal%5Bth%5D.m%2Fcm2\\\",\\\"osdu:reference-data--UnitOfMeasure:atm%2Fhm\\\",\\\"osdu:reference-data--UnitOfMeasure:mm3\\\",\\\"osdu:reference-data--UnitOfMeasure:Tg\\\",\\\"osdu:reference-data--UnitOfMeasure:lbm%2Fin3\\\",\\\"osdu:reference-data--UnitOfMeasure:mD%2FcP\\\",\\\"osdu:reference-data--UnitOfMeasure:Btu%5BIT%5D%2Fgal%5BUS%5D\\\",\\\"osdu:reference-data--UnitOfMeasure:hN\\\",\\\"osdu:reference-data--UnitOfMeasure:m3%2Fmin\\\",\\\"osdu:reference-data--UnitOfMeasure:N.s%2Fm2\\\",\\\"osdu:reference-data--UnitOfMeasure:Btu%5BIT%5D%2F%28h.m2.deltaC%29\\\",\\\"osdu:reference-data--UnitOfMeasure:mg%2Fdm3\\\",\\\"osdu:reference-data--UnitOfMeasure:uT\\\",\\\"osdu:reference-data--UnitOfMeasure:dm3\\\",\\\"osdu:reference-data--UnitOfMeasure:pdl\\\",\\\"osdu:reference-data--UnitOfMeasure:mD.ft2%2F%28lbf.s%29\\\",\\\"osdu:reference-data--UnitOfMeasure:Wb%2Fm\\\",\\\"osdu:reference-data--UnitOfMeasure:0.001%20psi%2Fft\\\",\\\"osdu:reference-data--UnitOfMeasure:m3%2FkPa\\\",\\\"osdu:reference-data--UnitOfMeasure:dm3%2Fkg\\\",\\\"osdu:reference-data--UnitOfMeasure:D.m\\\",\\\"osdu:reference-data--UnitOfMeasure:gal%5BUS%5D%2Fmin2\\\",\\\"osdu:reference-data--UnitOfMeasure:pPa\\\",\\\"osdu:reference-data--UnitOfMeasure:dP\\\",\\\"osdu:reference-data--UnitOfMeasure:cP\\\",\\\"osdu:reference-data--UnitOfMeasure:ET\\\",\\\"osdu:reference-data--UnitOfMeasure:cal%5Bth%5D%2F%28s.cm.deltaC%29\\\",\\\"osdu:reference-data--UnitOfMeasure:fN\\\",\\\"osdu:reference-data--UnitOfMeasure:tonf%5BUS%5D.mi%2Fft\\\",\\\"osdu:reference-data--UnitOfMeasure:Btu%5BIT%5D%2F%28h.ft.deltaF%29\\\",\\\"osdu:reference-data--UnitOfMeasure:yd3\\\",\\\"osdu:reference-data--UnitOfMeasure:klbf\\\",\\\"osdu:reference-data--UnitOfMeasure:Pa%2Fm\\\",\\\"osdu:reference-data--UnitOfMeasure:cal%5Bth%5D%2F%28h.cm2.deltaC%29\\\",\\\"osdu:reference-data--UnitOfMeasure:Pa%2Fm3\\\",\\\"osdu:reference-data--UnitOfMeasure:g.ft%2F%28cm3.s%29\\\",\\\"osdu:reference-data--UnitOfMeasure:hg\\\",\\\"osdu:reference-data--UnitOfMeasure:N.m2\\\",\\\"osdu:reference-data--UnitOfMeasure:psi%2Fft\\\",\\\"osdu:reference-data--UnitOfMeasure:m3%2F%28kPa.d%29\\\",\\\"osdu:reference-data--UnitOfMeasure:mV%2Fm\\\",\\\"osdu:reference-data--UnitOfMeasure:lbm%2Flbmol\\\",\\\"osdu:reference-data--UnitOfMeasure:gal%5BUK%5D%2Fh2\\\",\\\"osdu:reference-data--UnitOfMeasure:kg.m%2Fs\\\",\\\"osdu:reference-data--UnitOfMeasure:0.001%20lbm%2Fbbl\\\",\\\"osdu:reference-data--UnitOfMeasure:g%2Fcm4\\\",\\\"osdu:reference-data--UnitOfMeasure:pg\\\",\\\"osdu:reference-data--UnitOfMeasure:dm3%2Ft\\\",\\\"osdu:reference-data--UnitOfMeasure:1000%20m3\\\",\\\"osdu:reference-data--UnitOfMeasure:lbm%2F%28ft.h%29\\\",\\\"osdu:reference-data--UnitOfMeasure:km3\\\",\\\"osdu:reference-data--UnitOfMeasure:MW.h%2Fm3\\\",\\\"osdu:reference-data--UnitOfMeasure:klbm\\\",\\\"osdu:reference-data--UnitOfMeasure:ug%2Fcm3\\\",\\\"osdu:reference-data--UnitOfMeasure:hbar\\\",\\\"osdu:reference-data--UnitOfMeasure:MJ%2Fm\\\",\\\"osdu:reference-data--UnitOfMeasure:gal%5BUS%5D%2Fh\\\",\\\"osdu:reference-data--UnitOfMeasure:kg%2Fs\\\",\\\"osdu:reference-data--UnitOfMeasure:cm3%2Fmin\\\",\\\"osdu:reference-data--UnitOfMeasure:m3%2FJ\\\",\\\"osdu:reference-data--UnitOfMeasure:gal%5BUS%5D%2Fmin\\\",\\\"osdu:reference-data--UnitOfMeasure:0.001%20lbm%2Fgal%5BUS%5D\\\",\\\"osdu:reference-data--UnitOfMeasure:kg\\\",\\\"osdu:reference-data--UnitOfMeasure:gal%5BUS%5D%2Fd\\\",\\\"osdu:reference-data--UnitOfMeasure:dyne.cm2\\\",\\\"osdu:reference-data--UnitOfMeasure:kPa\\\",\\\"osdu:reference-data--UnitOfMeasure:floz%5BUK%5D\\\",\\\"osdu:reference-data--UnitOfMeasure:m3\\\",\\\"osdu:reference-data--UnitOfMeasure:mD.in2%2F%28lbf.s%29\\\",\\\"osdu:reference-data--UnitOfMeasure:mN\\\",\\\"osdu:reference-data--UnitOfMeasure:1%2Fpsi\\\",\\\"osdu:reference-data--UnitOfMeasure:cwt%5BUK%5D\\\",\\\"osdu:reference-data--UnitOfMeasure:psi2%2FcP\\\",\\\"osdu:reference-data--UnitOfMeasure:g%2Fgal%5BUK%5D\\\",\\\"osdu:reference-data--UnitOfMeasure:W%2F%28m2.deltaK%29\\\",\\\"osdu:reference-data--UnitOfMeasure:kg%2F%28m2.s%29\\\",\\\"osdu:reference-data--UnitOfMeasure:kgf%2Fmm2\\\",\\\"osdu:reference-data--UnitOfMeasure:cal%5Bth%5D%2Fmm3\\\",\\\"osdu:reference-data--UnitOfMeasure:Pa%2Fh\\\",\\\"osdu:reference-data--UnitOfMeasure:um2.m\\\",\\\"osdu:reference-data--UnitOfMeasure:inH2O%5B39degF%5D\\\",\\\"osdu:reference-data--UnitOfMeasure:10%20Mg%2Fm3\\\",\\\"osdu:reference-data--UnitOfMeasure:mT%2Fdm\\\",\\\"osdu:reference-data--UnitOfMeasure:gf\\\",\\\"osdu:reference-data--UnitOfMeasure:gal%5BUS%5D%2Flbm\\\",\\\"osdu:reference-data--UnitOfMeasure:Mg\\\",\\\"osdu:reference-data--UnitOfMeasure:ngauss\\\",\\\"osdu:reference-data--UnitOfMeasure:inHg%5B60degF%5D\\\",\\\"osdu:reference-data--UnitOfMeasure:m4\\\",\\\"osdu:reference-data--UnitOfMeasure:TT\\\",\\\"osdu:reference-data--UnitOfMeasure:GT\\\",\\\"osdu:reference-data--UnitOfMeasure:Btu%5BIT%5D%2F%28s.ft3.deltaF%29\\\",\\\"osdu:reference-data--UnitOfMeasure:kgf.s%2Fm2\\\",\\\"osdu:reference-data--UnitOfMeasure:GP\\\",\\\"osdu:reference-data--UnitOfMeasure:psi.s\\\",\\\"osdu:reference-data--UnitOfMeasure:erg%2Fm3\\\",\\\"osdu:reference-data--UnitOfMeasure:ft3%2Fmin2\\\",\\\"osdu:reference-data--UnitOfMeasure:g%2Fmol\\\",\\\"osdu:reference-data--UnitOfMeasure:mi3\\\",\\\"osdu:reference-data--UnitOfMeasure:m2%2F%28kPa.d%29\\\",\\\"osdu:reference-data--UnitOfMeasure:dgauss\\\",\\\"osdu:reference-data--UnitOfMeasure:Pa\\\",\\\"osdu:reference-data--UnitOfMeasure:nohm.mm2%2Fm\\\",\\\"osdu:reference-data--UnitOfMeasure:Btu%5BIT%5D%2Fgal%5BUK%5D\\\",\\\"osdu:reference-data--UnitOfMeasure:mN.m2\\\",\\\"osdu:reference-data--UnitOfMeasure:ng\\\",\\\"osdu:reference-data--UnitOfMeasure:1000%20bbl\\\",\\\"osdu:reference-data--UnitOfMeasure:kPa2%2FcP\\\",\\\"osdu:reference-data--UnitOfMeasure:gal%5BUS%5D%2Fh2\\\",\\\"osdu:reference-data--UnitOfMeasure:pP\\\",\\\"osdu:reference-data--UnitOfMeasure:Wb%2Fmm\\\",\\\"osdu:reference-data--UnitOfMeasure:gauss\\\",\\\"osdu:reference-data--UnitOfMeasure:0.01%20psi%2Fft\\\",\\\"osdu:reference-data--UnitOfMeasure:bbl%2Fh\\\",\\\"osdu:reference-data--UnitOfMeasure:kN%2Fm2\\\",\\\"osdu:reference-data--UnitOfMeasure:0.01%20lbf%2Fft2\\\",\\\"osdu:reference-data--UnitOfMeasure:GPa\\\",\\\"osdu:reference-data--UnitOfMeasure:bbl%2Fmin\\\",\\\"osdu:reference-data--UnitOfMeasure:m3%2Fs2\\\",\\\"osdu:reference-data--UnitOfMeasure:Pa.s%2Fm3\\\",\\\"osdu:reference-data--UnitOfMeasure:dyne%2Fcm2\\\",\\\"osdu:reference-data--UnitOfMeasure:inHg%5B32degF%5D\\\",\\\"osdu:reference-data--UnitOfMeasure:uohm%2Fft\\\",\\\"osdu:reference-data--UnitOfMeasure:cmH2O%5B4degC%5D\\\",\\\"osdu:reference-data--UnitOfMeasure:Eg\\\",\\\"osdu:reference-data--UnitOfMeasure:ft3%2Flbmol\\\",\\\"osdu:reference-data--UnitOfMeasure:dPa\\\",\\\"osdu:reference-data--UnitOfMeasure:kgf%2Fcm2\\\",\\\"osdu:reference-data--UnitOfMeasure:1E12%20ft3\\\",\\\"osdu:reference-data--UnitOfMeasure:cal%5Bth%5D%2F%28h.cm.deltaC%29\\\",\\\"osdu:reference-data--UnitOfMeasure:1%2FPa\\\",\\\"osdu:reference-data--UnitOfMeasure:lbm.ft%2Fs\\\",\\\"osdu:reference-data--UnitOfMeasure:nohm.mil2%2Fft\\\",\\\"osdu:reference-data--UnitOfMeasure:ohm.cm\\\",\\\"osdu:reference-data--UnitOfMeasure:kN.m2\\\",\\\"osdu:reference-data--UnitOfMeasure:kcal%5Bth%5D%2Fm3\\\",\\\"osdu:reference-data--UnitOfMeasure:m3%2Fkg\\\",\\\"osdu:reference-data--UnitOfMeasure:kP\\\",\\\"osdu:reference-data--UnitOfMeasure:g%2Fs\\\",\\\"osdu:reference-data--UnitOfMeasure:lbm.ft\\\",\\\"osdu:reference-data--UnitOfMeasure:dm3%2FMJ\\\",\\\"osdu:reference-data--UnitOfMeasure:1000%20gal%5BUS%5D\\\",\\\"osdu:reference-data--UnitOfMeasure:N%2Fmm2\\\",\\\"osdu:reference-data--UnitOfMeasure:1%2FkPa\\\",\\\"osdu:reference-data--UnitOfMeasure:cm3\\\",\\\"osdu:reference-data--UnitOfMeasure:m3%2FPa\\\",\\\"osdu:reference-data--UnitOfMeasure:dT\\\",\\\"osdu:reference-data--UnitOfMeasure:N.m%2Fm\\\",\\\"osdu:reference-data--UnitOfMeasure:V%2Fm\\\",\\\"osdu:reference-data--UnitOfMeasure:m3%2Fton%5BUS%5D\\\",\\\"osdu:reference-data--UnitOfMeasure:dm3%2F%28kW.h%29\\\",\\\"osdu:reference-data--UnitOfMeasure:m3%2F%28kW.h%29\\\",\\\"osdu:reference-data--UnitOfMeasure:gal%5BUS%5D\\\",\\\"osdu:reference-data--UnitOfMeasure:L%2Fkg\\\",\\\"osdu:reference-data--UnitOfMeasure:W%2F%28m.deltaK%29\\\",\\\"osdu:reference-data--UnitOfMeasure:L%2Fton%5BUK%5D\\\",\\\"osdu:reference-data--UnitOfMeasure:J%2Fm3\\\",\\\"osdu:reference-data--UnitOfMeasure:dm3%2Fs\\\",\\\"osdu:reference-data--UnitOfMeasure:MN\\\",\\\"osdu:reference-data--UnitOfMeasure:kPa.s%2Fm\\\",\\\"osdu:reference-data--UnitOfMeasure:kN\\\",\\\"osdu:reference-data--UnitOfMeasure:pgauss\\\",\\\"osdu:reference-data--UnitOfMeasure:kW.h%2Fm3\\\",\\\"osdu:reference-data--UnitOfMeasure:bbl%2F%28ft.psi.d%29\\\",\\\"osdu:reference-data--UnitOfMeasure:kJ%2Fdm3\\\",\\\"osdu:reference-data--UnitOfMeasure:L%2F%28bar.min%29\\\",\\\"osdu:reference-data--UnitOfMeasure:atm\\\",\\\"osdu:reference-data--UnitOfMeasure:J%2F%28s.m2.deltaC%29\\\",\\\"osdu:reference-data--UnitOfMeasure:0.001%20lbm%2Fgal%5BUK%5D\\\",\\\"osdu:reference-data--UnitOfMeasure:GN\\\",\\\"osdu:reference-data--UnitOfMeasure:lbm%2Fgal%5BUS%5D\\\",\\\"osdu:reference-data--UnitOfMeasure:ft3\\\",\\\"osdu:reference-data--UnitOfMeasure:nN\\\",\\\"osdu:reference-data--UnitOfMeasure:ozm\\\",\\\"osdu:reference-data--UnitOfMeasure:fg\\\",\\\"osdu:reference-data--UnitOfMeasure:0.01%20grain%2Fft3\\\",\\\"osdu:reference-data--UnitOfMeasure:ft3%2Fsack%5B94lbm%5D\\\",\\\"osdu:reference-data--UnitOfMeasure:EP\\\",\\\"osdu:reference-data--UnitOfMeasure:tonf%5BUS%5D\\\",\\\"osdu:reference-data--UnitOfMeasure:Pa2%2F%28Pa.s%29\\\",\\\"osdu:reference-data--UnitOfMeasure:cgauss\\\",\\\"osdu:reference-data--UnitOfMeasure:1000%20ft3\\\",\\\"osdu:reference-data--UnitOfMeasure:TP\\\",\\\"osdu:reference-data--UnitOfMeasure:bbl%2Fh2\\\",\\\"osdu:reference-data--UnitOfMeasure:m2%2F%28Pa.s%29\\\",\\\"osdu:reference-data--UnitOfMeasure:lbf.in2\\\",\\\"osdu:reference-data--UnitOfMeasure:ft3%2Fd2\\\",\\\"osdu:reference-data--UnitOfMeasure:kW%2Fm3\\\",\\\"osdu:reference-data--UnitOfMeasure:Mg%2Fm2\\\",\\\"osdu:reference-data--UnitOfMeasure:1%2FpPa\\\",\\\"osdu:reference-data--UnitOfMeasure:L%2Ft\\\",\\\"osdu:reference-data--UnitOfMeasure:mD.m\\\",\\\"osdu:reference-data--UnitOfMeasure:1000%20bbl.ft%2Fd\\\",\\\"osdu:reference-data--UnitOfMeasure:1000%20ft3%2Fd\\\",\\\"osdu:reference-data--UnitOfMeasure:ha.m\\\",\\\"osdu:reference-data--UnitOfMeasure:L\\\",\\\"osdu:reference-data--UnitOfMeasure:kgf%2Fm2\\\",\\\"osdu:reference-data--UnitOfMeasure:qt%5BUS%5D\\\",\\\"osdu:reference-data--UnitOfMeasure:P\\\",\\\"osdu:reference-data--UnitOfMeasure:J.m%2F%28s.m2.deltaK%29\\\",\\\"osdu:reference-data--UnitOfMeasure:lbf.s%2Fft2\\\",\\\"osdu:reference-data--UnitOfMeasure:cPa\\\",\\\"osdu:reference-data--UnitOfMeasure:1E6%20bbl%2Fd\\\",\\\"osdu:reference-data--UnitOfMeasure:cT\\\",\\\"osdu:reference-data--UnitOfMeasure:m3%2Frev\\\",\\\"osdu:reference-data--UnitOfMeasure:mg\\\",\\\"osdu:reference-data--UnitOfMeasure:g%2Fcm3\\\",\\\"osdu:reference-data--UnitOfMeasure:lbm%2F%28ft2.s%29\\\",\\\"osdu:reference-data--UnitOfMeasure:tonf%5BUS%5D%2Fin2\\\",\\\"osdu:reference-data--UnitOfMeasure:lbf\\\",\\\"osdu:reference-data--UnitOfMeasure:bbl%2Fd2\\\",\\\"osdu:reference-data--UnitOfMeasure:kg%2Fm\\\",\\\"osdu:reference-data--UnitOfMeasure:MPa\\\",\\\"osdu:reference-data--UnitOfMeasure:g%2FL\\\",\\\"osdu:reference-data--UnitOfMeasure:bbl\\\",\\\"osdu:reference-data--UnitOfMeasure:m3%2Fkmol\\\",\\\"osdu:reference-data--UnitOfMeasure:cN\\\",\\\"osdu:reference-data--UnitOfMeasure:Mg%2Fin\\\",\\\"osdu:reference-data--UnitOfMeasure:dm3%2Fs2\\\",\\\"osdu:reference-data--UnitOfMeasure:kg%2Fmol\\\",\\\"osdu:reference-data--UnitOfMeasure:1000%20gal%5BUK%5D\\\",\\\"osdu:reference-data--UnitOfMeasure:gal%5BUK%5D%2Fh\\\",\\\"osdu:reference-data--UnitOfMeasure:mT\\\",\\\"osdu:reference-data--UnitOfMeasure:klbm%2Fin\\\",\\\"osdu:reference-data--UnitOfMeasure:grain%2Fft3\\\",\\\"osdu:reference-data--UnitOfMeasure:umHg%5B0degC%5D\\\",\\\"osdu:reference-data--UnitOfMeasure:dm3%2Fkmol\\\",\\\"osdu:reference-data--UnitOfMeasure:m3%2Frad\\\",\\\"osdu:reference-data--UnitOfMeasure:g%2Fdm3\\\",\\\"osdu:reference-data--UnitOfMeasure:kg%2Fd\\\",\\\"osdu:reference-data--UnitOfMeasure:g%2Fm3\\\",\\\"osdu:reference-data--UnitOfMeasure:ft3%2Fmin\\\",\\\"osdu:reference-data--UnitOfMeasure:hp%2Fft3\\\",\\\"osdu:reference-data--UnitOfMeasure:inH2O%5B60degF%5D\\\",\\\"osdu:reference-data--UnitOfMeasure:ozf\\\",\\\"osdu:reference-data--UnitOfMeasure:lbm%2Fft\\\",\\\"osdu:reference-data--UnitOfMeasure:ft3%2Fd\\\",\\\"osdu:reference-data--UnitOfMeasure:psi\\\",\\\"osdu:reference-data--UnitOfMeasure:mD.ft\\\",\\\"osdu:reference-data--UnitOfMeasure:ugauss\\\",\\\"osdu:reference-data--UnitOfMeasure:torr\\\",\\\"osdu:reference-data--UnitOfMeasure:Gg\\\",\\\"osdu:reference-data--UnitOfMeasure:gal%5BUS%5D%2Fton%5BUK%5D\\\",\\\"osdu:reference-data--UnitOfMeasure:gal%5BUK%5D%2Fd\\\",\\\"osdu:reference-data--UnitOfMeasure:gauss%2Fcm\\\",\\\"osdu:reference-data--UnitOfMeasure:kJ.m%2F%28h.m2.deltaK%29\\\",\\\"osdu:reference-data--UnitOfMeasure:Egauss\\\",\\\"osdu:reference-data--UnitOfMeasure:g%2Fgal%5BUS%5D\\\",\\\"osdu:reference-data--UnitOfMeasure:g.m%2F%28cm3.s%29\\\",\\\"osdu:reference-data--UnitOfMeasure:1%2Fupsi\\\",\\\"osdu:reference-data--UnitOfMeasure:ton%5BUS%5D%2Fft2\\\",\\\"osdu:reference-data--UnitOfMeasure:pN\\\",\\\"osdu:reference-data--UnitOfMeasure:Pa%2Fs\\\",\\\"osdu:reference-data--UnitOfMeasure:1E6%20ft3%2Fd\\\",\\\"osdu:reference-data--UnitOfMeasure:atm%2Fft\\\",\\\"osdu:reference-data--UnitOfMeasure:L%2Fh\\\",\\\"osdu:reference-data--UnitOfMeasure:T%2Fm\\\",\\\"osdu:reference-data--UnitOfMeasure:ton%5BUS%5D\\\",\\\"osdu:reference-data--UnitOfMeasure:lbf.ft%2Fgal%5BUS%5D\\\",\\\"osdu:reference-data--UnitOfMeasure:lbm%2F%28gal%5BUS%5D.ft%29\\\",\\\"osdu:reference-data--UnitOfMeasure:1%2F30%20cm3%2Fmin\\\",\\\"osdu:reference-data--UnitOfMeasure:L%2Fkmol\\\",\\\"osdu:reference-data--UnitOfMeasure:kPa%2Fm\\\",\\\"osdu:reference-data--UnitOfMeasure:pdl.cm2\\\",\\\"osdu:reference-data--UnitOfMeasure:m3%2F%28bar.d%29\\\",\\\"osdu:reference-data--UnitOfMeasure:cal%5Bth%5D%2F%28h.cm3%29\\\",\\\"osdu:reference-data--UnitOfMeasure:pt%5BUK%5D\\\",\\\"osdu:reference-data--UnitOfMeasure:NOK%2F%28m3.d%29\\\",\\\"osdu:reference-data--UnitOfMeasure:AUD%2F1000%20ft3%5B%4060degF%2C1atm%5D\\\",\\\"osdu:reference-data--UnitOfMeasure:DKK%2FL%5B%400degC%2C1bar%5D\\\",\\\"osdu:reference-data--UnitOfMeasure:CAD%2FL%5B%4015degC%2C1atm%5D\\\",\\\"osdu:reference-data--UnitOfMeasure:CAD%2F1000%20ft3%5B%4060degF%2C1atm%5D\\\",\\\"osdu:reference-data--UnitOfMeasure:AUD%2Fbbl%5B%4060degF%2C1atm%5D\\\",\\\"osdu:reference-data--UnitOfMeasure:kmol\\\",\\\"osdu:reference-data--UnitOfMeasure:1E6%20DKK\\\",\\\"osdu:reference-data--UnitOfMeasure:lbmol%2Fs\\\",\\\"osdu:reference-data--UnitOfMeasure:erg%2Fcm2\\\",\\\"osdu:reference-data--UnitOfMeasure:EUR%2F%28m3.d%29\\\",\\\"osdu:reference-data--UnitOfMeasure:CAD%2Fgal%5BUS%5D\\\",\\\"osdu:reference-data--UnitOfMeasure:ton%5BUK%5D%2Fh\\\",\\\"osdu:reference-data--UnitOfMeasure:t%2Fmin\\\",\\\"osdu:reference-data--UnitOfMeasure:AUD%2Ft\\\",\\\"osdu:reference-data--UnitOfMeasure:DKK%2Fkg\\\",\\\"osdu:reference-data--UnitOfMeasure:AUD%2F%28ft3.d%29\\\",\\\"osdu:reference-data--UnitOfMeasure:ton%5BUK%5D%2Fa\\\",\\\"osdu:reference-data--UnitOfMeasure:CAD%2F1E6%20bbl%5B%4060degF%2C1atm%5D\\\",\\\"osdu:reference-data--UnitOfMeasure:ms%2Fin\\\",\\\"osdu:reference-data--UnitOfMeasure:DKK%2F1E6%20bbl%5B%4060degF%2C1atm%5D\\\",\\\"osdu:reference-data--UnitOfMeasure:GBP%2Fft3%5B%4060degF%2C1atm%5D\\\",\\\"osdu:reference-data--UnitOfMeasure:AUD%2F%28MW.h%29\\\",\\\"osdu:reference-data--UnitOfMeasure:ARS%2Fkg\\\",\\\"osdu:reference-data--UnitOfMeasure:BRL%2F%28m3.s%29\\\",\\\"osdu:reference-data--UnitOfMeasure:ARS%2F%28MW.h%29\\\",\\\"osdu:reference-data--UnitOfMeasure:BRL%2Fd\\\",\\\"osdu:reference-data--UnitOfMeasure:kg%2F%28kW.h%29\\\",\\\"osdu:reference-data--UnitOfMeasure:mol%2F%28s.m2%29\\\",\\\"osdu:reference-data--UnitOfMeasure:EUR%2Fgal%5BUS%5D\\\",\\\"osdu:reference-data--UnitOfMeasure:AUD\\\",\\\"osdu:reference-data--UnitOfMeasure:EUR%2Fm3%5B%400degC%2C1bar%5D\\\",\\\"osdu:reference-data--UnitOfMeasure:mN%2Fkm\\\",\\\"osdu:reference-data--UnitOfMeasure:NOK%2Fhp\\\",\\\"osdu:reference-data--UnitOfMeasure:Ea%5Bt%5D\\\",\\\"osdu:reference-data--UnitOfMeasure:kg%2FMJ\\\",\\\"osdu:reference-data--UnitOfMeasure:CAD%2Ft\\\",\\\"osdu:reference-data--UnitOfMeasure:EUR%2F%28kW.h%29\\\",\\\"osdu:reference-data--UnitOfMeasure:AUD%2Fm3\\\",\\\"osdu:reference-data--UnitOfMeasure:EUR%2F%28m3.s%29\\\",\\\"osdu:reference-data--UnitOfMeasure:ton%5BUK%5D%2Fd\\\",\\\"osdu:reference-data--UnitOfMeasure:lbmol%2Fgal%5BUK%5D\\\",\\\"osdu:reference-data--UnitOfMeasure:GBP%2F%28m3.d%29\\\",\\\"osdu:reference-data--UnitOfMeasure:d%2Fft3\\\",\\\"osdu:reference-data--UnitOfMeasure:BRL%2Fhp%5Bhyd%5D\\\",\\\"osdu:reference-data--UnitOfMeasure:BRL%2FJ\\\",\\\"osdu:reference-data--UnitOfMeasure:dB%2FO\\\",\\\"osdu:reference-data--UnitOfMeasure:ARS%2Fhp%5Bhyd%5D\\\",\\\"osdu:reference-data--UnitOfMeasure:ucal%5Bth%5D%2F%28s.cm2%29\\\",\\\"osdu:reference-data--UnitOfMeasure:ARS%2F%28m3.d%29\\\",\\\"osdu:reference-data--UnitOfMeasure:ns\\\",\\\"osdu:reference-data--UnitOfMeasure:CAD%2Fbbl\\\",\\\"osdu:reference-data--UnitOfMeasure:AUD%2Fton%5BUS%5D\\\",\\\"osdu:reference-data--UnitOfMeasure:ARS%2F1E6%20m3%5B%4015degC%2C1atm%5D\\\",\\\"osdu:reference-data--UnitOfMeasure:ARS%2F%28kW.h%29\\\",\\\"osdu:reference-data--UnitOfMeasure:GBP%2F1000%20m3%5B%400degC%2C1bar%5D\\\",\\\"osdu:reference-data--UnitOfMeasure:mW%2Fm2\\\",\\\"osdu:reference-data--UnitOfMeasure:BRL%2Fgal%5BUS%5D\\\",\\\"osdu:reference-data--UnitOfMeasure:GBP%2Fft\\\",\\\"osdu:reference-data--UnitOfMeasure:CAD%2FBtu%5BIT%5D\\\",\\\"osdu:reference-data--UnitOfMeasure:lbmol%2Fft3\\\",\\\"osdu:reference-data--UnitOfMeasure:s%2Fcm\\\",\\\"osdu:reference-data--UnitOfMeasure:AUD%2FJ\\\",\\\"osdu:reference-data--UnitOfMeasure:mN%2Fm\\\",\\\"osdu:reference-data--UnitOfMeasure:dB\\\",\\\"osdu:reference-data--UnitOfMeasure:ARS%2F%28m3.s%29\\\",\\\"osdu:reference-data--UnitOfMeasure:CAD%2Fft3%5B%4060degF%2C1atm%5D\\\",\\\"osdu:reference-data--UnitOfMeasure:GBP%2Fmi\\\",\\\"osdu:reference-data--UnitOfMeasure:CAD%2Fton%5BUS%5D\\\",\\\"osdu:reference-data--UnitOfMeasure:BRL%2F%28bbl.d%29\\\",\\\"osdu:reference-data--UnitOfMeasure:GBP%2F1E6%20m3%5B%400degC%2C1bar%5D\\\",\\\"osdu:reference-data--UnitOfMeasure:GBP%2F1000%20bbl%5B%4060degF%2C1atm%5D\\\",\\\"osdu:reference-data--UnitOfMeasure:EUR%2FJ\\\",\\\"osdu:reference-data--UnitOfMeasure:ARS%2F1000%20m3%5B%4015degC%2C1atm%5D\\\",\\\"osdu:reference-data--UnitOfMeasure:s%2Fqt%5BUK%5D\\\",\\\"osdu:reference-data--UnitOfMeasure:BRL%2F1000%20m3%5B%4015degC%2C1atm%5D\\\",\\\"osdu:reference-data--UnitOfMeasure:ton%5BUS%5D%2Fmin\\\",\\\"osdu:reference-data--UnitOfMeasure:ARS%2F1E6%20bbl%5B%4060degF%2C1atm%5D\\\",\\\"osdu:reference-data--UnitOfMeasure:GBP%2FL%5B%400degC%2C1bar%5D\\\",\\\"osdu:reference-data--UnitOfMeasure:DKK%2Fm\\\",\\\"osdu:reference-data--UnitOfMeasure:cs\\\",\\\"osdu:reference-data--UnitOfMeasure:EUR%2Fft3%5B%4060degF%2C1atm%5D\\\",\\\"osdu:reference-data--UnitOfMeasure:0.001%20d%2Fft3\\\",\\\"osdu:reference-data--UnitOfMeasure:AUD%2Fmi\\\",\\\"osdu:reference-data--UnitOfMeasure:1%2F2%20ms\\\",\\\"osdu:reference-data--UnitOfMeasure:AUD%2FL%5B%400degC%2C1bar%5D\\\",\\\"osdu:reference-data--UnitOfMeasure:us\\\",\\\"osdu:reference-data--UnitOfMeasure:AUD%2FkJ\\\",\\\"osdu:reference-data--UnitOfMeasure:ARS%2Ft\\\",\\\"osdu:reference-data--UnitOfMeasure:CAD%2F%28ft3.d%29\\\",\\\"osdu:reference-data--UnitOfMeasure:CAD%2F1E6%20Btu%5BIT%5D\\\",\\\"osdu:reference-data--UnitOfMeasure:AUD%2F1E6%20m3%5B%400degC%2C1bar%5D\\\",\\\"osdu:reference-data--UnitOfMeasure:Btu%5BIT%5D%2F%28h.ft2%29\\\",\\\"osdu:reference-data--UnitOfMeasure:GBP%2Ft\\\",\\\"osdu:reference-data--UnitOfMeasure:DKK%2F1000%20ft3%5B%4060degF%2C1atm%5D\\\",\\\"osdu:reference-data--UnitOfMeasure:BRL%2F%28ft3.d%29\\\",\\\"osdu:reference-data--UnitOfMeasure:DKK%2Fgal%5BUS%5D\\\",\\\"osdu:reference-data--UnitOfMeasure:ARS%2Fft3%5B%4060degF%2C1atm%5D\\\",\\\"osdu:reference-data--UnitOfMeasure:hp%5Bhyd%5D%2Fin2\\\",\\\"osdu:reference-data--UnitOfMeasure:ns%2Fft\\\",\\\"osdu:reference-data--UnitOfMeasure:CAD%2F%28m3.s%29\\\",\\\"osdu:reference-data--UnitOfMeasure:NOK%2Flbm\\\",\\\"osdu:reference-data--UnitOfMeasure:Mg%2Fd\\\",\\\"osdu:reference-data--UnitOfMeasure:DKK%2Fbbl%5B%4060degF%2C1atm%5D\\\",\\\"osdu:reference-data--UnitOfMeasure:AUD%2Fbbl\\\",\\\"osdu:reference-data--UnitOfMeasure:EUR%2FBtu%5BIT%5D\\\",\\\"osdu:reference-data--UnitOfMeasure:EUR%2FkJ\\\",\\\"osdu:reference-data--UnitOfMeasure:GBP%2Fbbl%5B%4060degF%2C1atm%5D\\\",\\\"osdu:reference-data--UnitOfMeasure:mJ%2Fcm2\\\",\\\"osdu:reference-data--UnitOfMeasure:mol%2Fs\\\",\\\"osdu:reference-data--UnitOfMeasure:DKK%2F%28m3.s%29\\\",\\\"osdu:reference-data--UnitOfMeasure:EUR%2F%28ft3.d%29\\\",\\\"osdu:reference-data--UnitOfMeasure:dB%2Fft\\\",\\\"osdu:reference-data--UnitOfMeasure:a%5Bt%5D\\\",\\\"osdu:reference-data--UnitOfMeasure:CAD%2F%28m3.d%29\\\",\\\"osdu:reference-data--UnitOfMeasure:AUD%2Fhp%5Bhyd%5D\\\",\\\"osdu:reference-data--UnitOfMeasure:EUR%2Fft3\\\",\\\"osdu:reference-data--UnitOfMeasure:BRL%2Ft\\\",\\\"osdu:reference-data--UnitOfMeasure:mol%2Fm3\\\",\\\"osdu:reference-data--UnitOfMeasure:fa\\\",\\\"osdu:reference-data--UnitOfMeasure:N%2Fm\\\",\\\"osdu:reference-data--UnitOfMeasure:ARS%2F1E6%20m3%5B%400degC%2C1bar%5D\\\",\\\"osdu:reference-data--UnitOfMeasure:AUD%2Flbm\\\",\\\"osdu:reference-data--UnitOfMeasure:ARS%2FL%5B%4015degC%2C1atm%5D\\\",\\\"osdu:reference-data--UnitOfMeasure:ARS%2Fhp\\\",\\\"osdu:reference-data--UnitOfMeasure:V%2FdB\\\",\\\"osdu:reference-data--UnitOfMeasure:CAD%2Fm\\\",\\\"osdu:reference-data--UnitOfMeasure:EUR%2Fmi\\\",\\\"osdu:reference-data--UnitOfMeasure:AUD%2F1000%20m3%5B%400degC%2C1bar%5D\\\",\\\"osdu:reference-data--UnitOfMeasure:CAD%2FJ\\\",\\\"osdu:reference-data--UnitOfMeasure:ARS%2F%28bbl.mo%29\\\",\\\"osdu:reference-data--UnitOfMeasure:BRL%2Fm3\\\",\\\"osdu:reference-data--UnitOfMeasure:lbf%2Fft\\\",\\\"osdu:reference-data--UnitOfMeasure:Mg%2Fh\\\",\\\"osdu:reference-data--UnitOfMeasure:BRL%2FW\\\",\\\"osdu:reference-data--UnitOfMeasure:kW%2Fcm2\\\",\\\"osdu:reference-data--UnitOfMeasure:CAD%2Fm3%5B%4015degC%2C1atm%5D\\\",\\\"osdu:reference-data--UnitOfMeasure:GBP%2F%28bbl.mo%29\\\",\\\"osdu:reference-data--UnitOfMeasure:EUR%2F1000%20m3%5B%4015degC%2C1atm%5D\\\",\\\"osdu:reference-data--UnitOfMeasure:s%2Fqt%5BUS%5D\\\",\\\"osdu:reference-data--UnitOfMeasure:ARS%2Fm\\\",\\\"osdu:reference-data--UnitOfMeasure:s%2Fkg\\\",\\\"osdu:reference-data--UnitOfMeasure:us%2Fft\\\",\\\"osdu:reference-data--UnitOfMeasure:lbmol\\\",\\\"osdu:reference-data--UnitOfMeasure:BRL%2Fkg\\\",\\\"osdu:reference-data--UnitOfMeasure:ps\\\",\\\"osdu:reference-data--UnitOfMeasure:CAD%2Fkg\\\",\\\"osdu:reference-data--UnitOfMeasure:GBP%2Fm3\\\",\\\"osdu:reference-data--UnitOfMeasure:NOK%2Fm3\\\",\\\"osdu:reference-data--UnitOfMeasure:BRL%2Fft3%5B%4060degF%2C1atm%5D\\\",\\\"osdu:reference-data--UnitOfMeasure:DKK\\\",\\\"osdu:reference-data--UnitOfMeasure:lbm%2F%28hp.h%29\\\",\\\"osdu:reference-data--UnitOfMeasure:ka%5Bt%5D\\\",\\\"osdu:reference-data--UnitOfMeasure:BRL%2F1000%20m3%5B%400degC%2C1bar%5D\\\",\\\"osdu:reference-data--UnitOfMeasure:mg%2FJ\\\",\\\"osdu:reference-data--UnitOfMeasure:hs\\\",\\\"osdu:reference-data--UnitOfMeasure:kgf.m%2Fcm2\\\",\\\"osdu:reference-data--UnitOfMeasure:EUR%2FL%5B%400degC%2C1bar%5D\\\",\\\"osdu:reference-data--UnitOfMeasure:BRL%2F%28m3.d%29\\\",\\\"osdu:reference-data--UnitOfMeasure:EUR%2Flbm\\\",\\\"osdu:reference-data--UnitOfMeasure:NOK%2FkW\\\",\\\"osdu:reference-data--UnitOfMeasure:s%2Fft\\\",\\\"osdu:reference-data--UnitOfMeasure:DKK%2FBtu%5BIT%5D\\\",\\\"osdu:reference-data--UnitOfMeasure:CAD%2F1000%20bbl%5B%4060degF%2C1atm%5D\\\",\\\"osdu:reference-data--UnitOfMeasure:sr\\\",\\\"osdu:reference-data--UnitOfMeasure:kg%2Fh\\\",\\\"osdu:reference-data--UnitOfMeasure:AUD%2FW\\\",\\\"osdu:reference-data--UnitOfMeasure:GBP%2F1000%20ft3%5B%4060degF%2C1atm%5D\\\",\\\"osdu:reference-data--UnitOfMeasure:CAD%2F1E6%20m3%5B%4015degC%2C1atm%5D\\\",\\\"osdu:reference-data--UnitOfMeasure:DKK%2FkJ\\\",\\\"osdu:reference-data--UnitOfMeasure:kPa2\\\",\\\"osdu:reference-data--UnitOfMeasure:W%2Fcm2\\\",\\\"osdu:reference-data--UnitOfMeasure:AUD%2F%28kW.h%29\\\",\\\"osdu:reference-data--UnitOfMeasure:1000%20GBP\\\",\\\"osdu:reference-data--UnitOfMeasure:ns%2Fm\\\",\\\"osdu:reference-data--UnitOfMeasure:AUD%2F1E6%20Btu%5BIT%5D\\\",\\\"osdu:reference-data--UnitOfMeasure:GBP%2F1E6%20bbl%5B%4060degF%2C1atm%5D\\\",\\\"osdu:reference-data--UnitOfMeasure:DKK%2FkW\\\",\\\"osdu:reference-data--UnitOfMeasure:lbm%2Fd\\\",\\\"osdu:reference-data--UnitOfMeasure:bar2\\\",\\\"osdu:reference-data--UnitOfMeasure:GBP%2Fm3%5B%400degC%2C1bar%5D\\\",\\\"osdu:reference-data--UnitOfMeasure:1%2Flbf\\\",\\\"osdu:reference-data--UnitOfMeasure:BRL%2Fmi\\\",\\\"osdu:reference-data--UnitOfMeasure:min\\\",\\\"osdu:reference-data--UnitOfMeasure:DKK%2FW\\\",\\\"osdu:reference-data--UnitOfMeasure:AUD%2FL%5B%4015degC%2C1atm%5D\\\",\\\"osdu:reference-data--UnitOfMeasure:kg%2FJ\\\",\\\"osdu:reference-data--UnitOfMeasure:EUR%2Fbbl%5B%4060degF%2C1atm%5D\\\",\\\"osdu:reference-data--UnitOfMeasure:dyne%2Fcm\\\",\\\"osdu:reference-data--UnitOfMeasure:EUR%2Fft\\\",\\\"osdu:reference-data--UnitOfMeasure:NOK%2Fgal%5BUS%5D\\\",\\\"osdu:reference-data--UnitOfMeasure:BRL%2Fh\\\",\\\"osdu:reference-data--UnitOfMeasure:t%2Fd\\\",\\\"osdu:reference-data--UnitOfMeasure:AUD%2Fs\\\",\\\"osdu:reference-data--UnitOfMeasure:DKK%2Fs\\\",\\\"osdu:reference-data--UnitOfMeasure:nAPI\\\",\\\"osdu:reference-data--UnitOfMeasure:ARS%2Fs\\\",\\\"osdu:reference-data--UnitOfMeasure:psi2\\\",\\\"osdu:reference-data--UnitOfMeasure:GBP%2Fhp%5Bhyd%5D\\\",\\\"osdu:reference-data--UnitOfMeasure:dB.MW\\\",\\\"osdu:reference-data--UnitOfMeasure:kN%2Fm\\\",\\\"osdu:reference-data--UnitOfMeasure:AUD%2F1E6%20ft3%5B%4060degF%2C1atm%5D\\\",\\\"osdu:reference-data--UnitOfMeasure:BRL%2F1E6%20Btu%5BIT%5D\\\",\\\"osdu:reference-data--UnitOfMeasure:EUR%2FL%5B%4015degC%2C1atm%5D\\\",\\\"osdu:reference-data--UnitOfMeasure:BRL%2F1E6%20m3%5B%400degC%2C1bar%5D\\\",\\\"osdu:reference-data--UnitOfMeasure:EUR%2Fbbl\\\",\\\"osdu:reference-data--UnitOfMeasure:CAD%2FkW\\\",\\\"osdu:reference-data--UnitOfMeasure:BRL%2F%28bbl.mo%29\\\",\\\"osdu:reference-data--UnitOfMeasure:DKK%2Fm3%5B%4015degC%2C1atm%5D\\\",\\\"osdu:reference-data--UnitOfMeasure:CAD%2Fbbl%5B%4060degF%2C1atm%5D\\\",\\\"osdu:reference-data--UnitOfMeasure:BRL%2F1E6%20m3%5B%4015degC%2C1atm%5D\\\",\\\"osdu:reference-data--UnitOfMeasure:kmol%2Fm3\\\",\\\"osdu:reference-data--UnitOfMeasure:BRL%2Fft3\\\",\\\"osdu:reference-data--UnitOfMeasure:na\\\",\\\"osdu:reference-data--UnitOfMeasure:GBP%2Fm3%5B%4015degC%2C1atm%5D\\\",\\\"osdu:reference-data--UnitOfMeasure:CAD%2F%28MW.h%29\\\",\\\"osdu:reference-data--UnitOfMeasure:EUR%2Fd\\\",\\\"osdu:reference-data--UnitOfMeasure:GBP%2Fkg\\\",\\\"osdu:reference-data--UnitOfMeasure:CAD%2F%28bbl.mo%29\\\",\\\"osdu:reference-data--UnitOfMeasure:hp%2Fin2\\\",\\\"osdu:reference-data--UnitOfMeasure:kW%2Fm2\\\",\\\"osdu:reference-data--UnitOfMeasure:1E6%20AUD\\\",\\\"osdu:reference-data--UnitOfMeasure:gAPI\\\",\\\"osdu:reference-data--UnitOfMeasure:100%20ka%5Bt%5D\\\",\\\"osdu:reference-data--UnitOfMeasure:ms\\\",\\\"osdu:reference-data--UnitOfMeasure:DKK%2F1000%20bbl%5B%4060degF%2C1atm%5D\\\",\\\"osdu:reference-data--UnitOfMeasure:t%2Fa\\\",\\\"osdu:reference-data--UnitOfMeasure:GBP%2Flbm\\\",\\\"osdu:reference-data--UnitOfMeasure:AUD%2F1000%20m3%5B%4015degC%2C1atm%5D\\\",\\\"osdu:reference-data--UnitOfMeasure:GBP%2FBtu%5BIT%5D\\\",\\\"osdu:reference-data--UnitOfMeasure:1%2FN\\\",\\\"osdu:reference-data--UnitOfMeasure:NOK%2Fh\\\",\\\"osdu:reference-data--UnitOfMeasure:GBP%2FJ\\\",\\\"osdu:reference-data--UnitOfMeasure:NOK%2Fft\\\",\\\"osdu:reference-data--UnitOfMeasure:1%2F30%20N%2Fm\\\",\\\"osdu:reference-data--UnitOfMeasure:AUD%2F1000%20bbl%5B%4060degF%2C1atm%5D\\\",\\\"osdu:reference-data--UnitOfMeasure:AUD%2Fkg\\\",\\\"osdu:reference-data--UnitOfMeasure:GPa2\\\",\\\"osdu:reference-data--UnitOfMeasure:W%2Fm2\\\",\\\"osdu:reference-data--UnitOfMeasure:ARS%2Fm3%5B%400degC%2C1bar%5D\\\",\\\"osdu:reference-data--UnitOfMeasure:CAD%2Fhp\\\",\\\"osdu:reference-data--UnitOfMeasure:GBP%2F1000%20m3%5B%4015degC%2C1atm%5D\\\",\\\"osdu:reference-data--UnitOfMeasure:EUR%2Fm\\\",\\\"osdu:reference-data--UnitOfMeasure:AUD%2F1E6%20bbl%5B%4060degF%2C1atm%5D\\\",\\\"osdu:reference-data--UnitOfMeasure:GBP%2F%28m3.s%29\\\",\\\"osdu:reference-data--UnitOfMeasure:EUR%2Ft\\\")]\"";
        AppException appException = new AppException(HttpStatus.SC_BAD_REQUEST, "Too many clauses", message);
        when(this.configurationProperties.getMaxExceptionLogMessageLength()).thenReturn(5000);
        ResponseEntity response = this.sut.handleAppException(appException);
        assertEquals(HttpStatus.SC_BAD_REQUEST, response.getStatusCodeValue());
        String loggingMsg = message.substring(0, this.configurationProperties.getMaxExceptionLogMessageLength());
        verify(this.log).error(loggingMsg, new AppException(HttpStatus.SC_BAD_REQUEST, "Too many clauses", loggingMsg));
    }
}
